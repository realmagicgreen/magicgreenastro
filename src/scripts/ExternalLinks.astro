---
---

<!--
<script type="text/partytown">
  //open external links in new window
  var links = document.links;
  for (let i = 0, linksLength = links.length; i < linksLength; i++) {
    if (links[i].hostname !== window.location.hostname) {
      links[i].target = "_blank";
      links[i].rel = "noreferrer noopener";
    }
  }
</script> -->
<script type="text/partytown">
  //https://robwise.github.io/blog/javascript-external-links-open-new-window
  function ready(fn) {
    if (document.readyState != 'loading') {
      fn()
    } else if (document.addEventListener) {
      document.addEventListener('DOMContentLoaded', fn)
    } else {
      document.attachEvent('onreadystatechange', function () {
        if (document.readyState != 'loading') fn()
      })
    }
  }

  ready(function () {
    var website = window.location.hostname

    var internalLinkRegex = new RegExp(
      '^((((http:\\/\\/|https:\\/\\/)(www\\.)?)?' +
        website +
        ')|(localhost:\\d{4})|(\\/.*))(\\/.*)?$',
      ''
    )

    var anchorEls = document.querySelectorAll('a:not(.top')
    var anchorElsLength = anchorEls.length

    for (var i = 0; i < anchorElsLength; i++) {
      var anchorEl = anchorEls[i]
      var href = anchorEl.getAttribute('href')

      if (!internalLinkRegex.test(href)) {
        anchorEl.setAttribute('target', '_blank')
        anchorEl.setAttribute('rel', 'noreferrer noopener')
        anchorEl.setAttribute('class', 'open_in_new_window')
      }
    }
  })
</script>
